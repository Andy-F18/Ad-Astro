<!DOCTYPE html>

<html>
<script>
	function readFile(file){
		var xmlHttp = new XMLHttpRequest();
	    xmlHttp.open( "GET", file, false ); // false for synchronous request
	    xmlHttp.send( null );
	    return xmlHttp.responseText;
	}

    header = readFile("https://raw.githubusercontent.com/Andy-F18/Andy-F18.github.io/main/elem/header.html");
    categ = readFile("https://raw.githubusercontent.com/Andy-F18/Andy-F18.github.io/main/categories.txt").split("\n");

    cards = [];
    for(cat of categ){
    	file = readFile(`https://raw.githubusercontent.com/Andy-F18/Andy-F18.github.io/main/Images/${cat}.json`).split("\n\n")[0];
    	obj = JSON.parse(file);
    	path = `./Images/${cat}/${obj.fileName}`;
    	link = `https://andy-f18.github.io/album?album=${cat}`

    	card = 
    		`<div class="card" onclick="window.location='${link}';">`+
				`<div class="container" id="fold2" style="background: center / 100% auto no-repeat url('${path}');">`+
					`<p class="foldTxt"><b>${cat.replace("_", " ")}</b></p>`+
				`</div>`+
			`</div>`
		cards.push(card);
    }

</script>
<head>
	<meta charset="utf-8">
	<script src="https://kit.fontawesome.com/985774d57b.js" crossorigin="anonymous"></script>
	<link href="https://fonts.googleapis.com/css?family=Oswald:400,700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/menu_style.css">
	<link rel="stylesheet" href="css/cartes.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<title>Ad Astro</title>
</head>

<body>
	
	<script>
	    document.write(header);
	</script>

	<div class="cards_container" id="fold">

		<script>
			for(c of cards){
				document.write(c);
			}
		</script>

	</div>

</body>
</html>